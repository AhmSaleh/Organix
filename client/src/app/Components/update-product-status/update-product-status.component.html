<section class="mx-auto container-img vertical-center col-lg-10 col-md-11 col-sm-12 p-0 pb-3">
  <h1 class="text-center font-h1">Pending Products</h1>
  <div class="table-responsive container mb-1">

    <table class="table table-bordered border-success table-hover overflow-scroll">
      <thead class="table-success">
        <tr>
          <th class="text-center">#</th>
          <th class="text-center">Name</th>
          <th class="text-center">Operations</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let prod of products; index as i">
          <td scope="row" class="text-center"> {{i + 1}}</td>
          <td class="text-center">{{prod['name']}}</td>
          <td class="text-center">
            <p><a class="btn btn-info  text-white" (click)="changeStatus(prod['_id'])" data-toggle="modal"
                data-target="#statusModal">Change Status</a> | <a class="btn btn-primary text-white"
                (click)="detailClick(prod['_id'])" data-toggle="modal" data-target="#detailModals">Details</a> </p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<div class="modal fade" id="detailModals" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{selectedProduct?.name}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Name: <span class="font-weight-bold">{{selectedProduct?.name}}</span></p>
        <p>Price: <span class="font-weight-bold">{{selectedProduct?.price}}</span></p>
        <p>Short Description: <span class="font-weight-bold">{{selectedProduct?.shortDescription}}</span></p>
        <p>weight: <span class="font-weight-bold">{{selectedProduct?.weight}}</span></p>
        <p>Available Inventory: <span class="font-weight-bold">{{selectedProduct?.availableInventory}}</span></p>
        <p>Category Name: <span class="font-weight-bold">{{selectedProduct?.categoryName}}</span></p>
        <p>Merchent: <span class="font-weight-bold">{{merchent?.name?.first}} {{merchent?.name?.last}}</span></p>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" #modalClose data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-info" (click)="modalClose.click()" data-toggle="modal"
          data-target="#statusModal">Update Status</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="statusModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title" id="exampleModalLongTitle">Change Status</h1>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" #modalStatusClose data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger"
          (click)="UpdateProductStatus('rejected'); modalStatusClose.click();">Reject</button>
        <button type="button" class="btn btn-success"
          (click)="UpdateProductStatus('approved'); modalStatusClose.click();">Approve</button>
      </div>
    </div>
  </div>
</div>
